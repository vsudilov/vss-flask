{% extends "base.html" %}
{% block content %}
<script src="/static/js/d3.v3.min.js"></script>
<script>
$(document).ready(function(){
	var data = {{results|safe}}
    var h = 800
    var w = 500
    var padding = 40
    var svg = d3.select("body")
                .append("svg")
                .attr("width", w)
                .attr("height", h);
    var yscale = d3.scale.linear()
        .domain([0,d3.max(data, function(d){return d[1]})])
        .range([h-padding, 0+padding])
        .nice();

/*
    svg.append("g")
        .attr("class", "y axis")
        .attr("transform", "translate(" + padding + ",0)")
        .call(yAxis);*/
    svg.selectAll("circle")
       .data(data)
       .enter()
       .append("circle")
       .attr("cx", function(d,i) {
            return Math.random()*w;
       })
       .attr("cy", function(d,i) {
            return Math.random()*h;
       })
       .attr("r", function(d,i) {
        return Math.sqrt(yscale(d[1]));
      }
      )



})
</script>
{% endblock %}

